# NetZero Forecast - Emissions AI Forecasting Dashboard

A professional-grade AI-powered emissions forecasting platform for manufacturing decarbonization. This application predicts Scope 1, 2, and 3 greenhouse gas emissions over 5-year, 15-year, and 30-year horizons using historical production data and scenario analysis.

## Features

âœ… **AI Forecasting Engine** - Predict emissions across 30-year horizons  
âœ… **Multi-Scenario Analysis** - BAU, Moderate, and Aggressive decarbonization pathways  
âœ… **Automated Reporting** - AI-generated insights with strategic recommendations  
âœ… **Interactive Visualizations** - Stacked area charts showing emission trajectories  
âœ… **KPI Dashboard** - Real-time metrics for total emissions and intensity  
âœ… **Production Correlation** - Emission forecasts tied to production volume changes

## Tech Stack

- **Frontend**: React 19 + TypeScript
- **Routing**: Wouter (lightweight client-side routing)
- **Styling**: Tailwind CSS v4 + Custom CSS
- **UI Components**: Shadcn/UI (Radix UI primitives)
- **Charts**: Recharts (interactive visualizations)
- **Forms**: React Hook Form + Zod validation
- **Build Tool**: Vite
- **Package Manager**: npm

## Project Structure

```
emissions-forecast/
â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ favicon.png
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                 # Shadcn/UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx     # Navigation sidebar
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ shell.tsx       # Main layout wrapper
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚   â”‚       â”œâ”€â”€ emissions-chart.tsx    # Main forecast chart
â”‚   â”‚   â”‚       â”œâ”€â”€ overview-metrics.tsx   # KPI cards
â”‚   â”‚   â”‚       â””â”€â”€ report-view.tsx        # AI-generated insights
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ data.ts            # Forecasting logic & data
â”‚   â”‚   â”‚   â”œâ”€â”€ queryClient.ts     # React Query setup
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts           # Utility functions
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.tsx      # Main dashboard page
â”‚   â”‚   â”‚   â””â”€â”€ not-found.tsx      # 404 page
â”‚   â”‚   â”œâ”€â”€ App.tsx                # Router setup
â”‚   â”‚   â”œâ”€â”€ main.tsx               # React entry point
â”‚   â”‚   â””â”€â”€ index.css              # Global styles & Tailwind config
â”‚   â””â”€â”€ index.html                 # HTML template
â”œâ”€â”€ attached_assets/
â”‚   â””â”€â”€ generated_images/          # Hero images
â”œâ”€â”€ ml_backend/                    # **NEW: Python ML Backend**
â”‚   â”œâ”€â”€ api.py                     # FastAPI server
â”‚   â”œâ”€â”€ train_model.py             # XGBoost training script
â”‚   â”œâ”€â”€ emissions_model.pkl        # Trained model (86.4% confidence)
â”‚   â””â”€â”€ model_metadata.json        # Model metrics
â”œâ”€â”€ server/                        # Express.js backend
â”œâ”€â”€ shared/                        # Shared types
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tailwind.config.ts            # (auto-generated by Tailwind v4)
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ components.json                # Shadcn/UI config
â””â”€â”€ README.md
```

## ðŸ¤– Machine Learning Backend (NEW)

This application now includes a **Python FastAPI backend** with trained XGBoost models for real emissions forecasting.

### Model Performance
- **Overall Confidence**: 86.4%
- **Scope 1 MAPE**: 9.75% (Direct emissions)
- **Scope 2 MAPE**: 1.16% (Electricity - highly accurate)
- **Scope 3 MAPE**: 29.99% (Supply chain - expected variance)

### Quick Start (ML Backend)

1. **Install Python Dependencies**
   ```bash
   pip install xgboost fastapi uvicorn scikit-learn pandas numpy statsmodels joblib pydantic
   ```

2. **Train the Model** (if not already trained)
   ```bash
   cd ml_backend
   python train_model.py
   ```

3. **Run FastAPI Server**
   ```bash
   cd ml_backend
   python -m uvicorn api:app --host 0.0.0.0 --port 8000 --reload
   ```

4. **API Endpoints Available**:
   - `GET http://localhost:8000/` - Health check
   - `GET http://localhost:8000/api/forecast?scenario=Aggressive` - Get 30-year forecast
   - `GET http://localhost:8000/api/historical` - Historical data
   - `GET http://localhost:8000/api/confidence` - Model metrics
   - `GET http://localhost:8000/docs` - Interactive API docs

### Running Frontend + Backend Together

**Terminal 1 (Frontend)**:
```bash
npm run dev
```

**Terminal 2 (ML Backend)**:
```bash
cd ml_backend && python -m uvicorn api:app --host 0.0.0.0 --port 8000 --reload
```

The frontend will automatically connect to the FastAPI backend at `http://localhost:8000`.

## Getting Started

### Prerequisites

- **Node.js** 18+ (LTS recommended)
- **npm** 9+
- **Python** 3.11+ (for ML backend)
- **VS Code** (recommended)

### Installation Steps

1. **Clone or Extract the Project**
   ```bash
   # Extract the ZIP file and navigate to the directory
   cd emissions-forecast
   ```

2. **Install Dependencies**
   ```bash
   npm install
   ```

3. **Start the Development Server**
   ```bash
   npm run dev
   ```

   The application will start at `http://localhost:5000`

4. **(Optional) Start ML Backend**
   ```bash
   # In a separate terminal
   cd ml_backend
   python -m uvicorn api:app --host 0.0.0.0 --port 8000 --reload
   ```

5. **Open in Browser**
   - Navigate to http://localhost:5000
   - The dashboard will load with the historical data (FY2020-21 to FY2024-25)
   - ML-powered predictions available at `/reports`

## Usage Guide

### Dashboard Overview

1. **KPI Cards** (Top Section)
   - Total Emissions (FY25): Current baseline emissions across all scopes
   - Emission Intensity: Emissions per tonne of physical output
   - Forecast Accuracy: Model confidence level

2. **Scenario Selection**
   - **Business As Usual (BAU)**: Emissions continue to rise with production growth
   - **Moderate Transition**: Incremental efficiency improvements (-1% to -2% annual reduction)
   - **Aggressive / Net Zero**: Deep decarbonization pathway (-8% Scope 1, -15% Scope 2, -5% Scope 3)

3. **Emissions Chart**
   - Stacked area chart showing Scope 1, 2, and 3 contributions
   - Vertical line indicates where forecast begins (FY2024-25)
   - Hover over data points to see exact values

4. **AI Generated Insights**
   - Executive summary of the selected scenario
   - Key metrics (current emissions, projected 2055 emissions, % change)
   - Strategic recommendations based on scope-specific drivers

## Forecasting Model

### Model Architecture

The forecasting engine uses a **Hybrid XGBoost + Time-Series** approach:

- **Production Growth**: 2% annual baseline growth
- **Scope 1 (Direct)**: Fuel combustion and process emissions
  - BAU: +1.5% annual
  - Moderate: -1.0% annual (efficiency gains)
  - Aggressive: -8% annual (hydrogen adoption, CCUS)

- **Scope 2 (Energy)**: Electricity, heat, steam purchases
  - BAU: +1.0% annual
  - Moderate: -2.0% annual (grid greening)
  - Aggressive: -15% annual (renewable PPAs)

- **Scope 3 (Supply Chain)**: Upstream and downstream emissions
  - BAU: +2.0% annual
  - Moderate: -0.5% annual (supplier pressure)
  - Aggressive: -5% annual (circular economy)

### Input Data

Historical data is sourced from the provided Tata Steel BRSR dataset:

```
FY2020-21: S1=33MT, S2=4MT, S3=5MT, Production=12.19MT, Revenue=156,294Cr
FY2021-22: S1=49MT, S2=5MT, S3=6MT, Production=18.38MT, Revenue=243,959Cr
FY2022-23: S1=50MT, S2=6MT, S3=7MT, Production=18.97MT, Revenue=243,353Cr
FY2023-24: S1=59MT, S2=5MT, S3=22MT, Production=20.12MT, Revenue=140,987Cr
FY2024-25: S1=61MT, S2=5MT, S3=23MT, Production=20.72MT, Revenue=218,543Cr
```

## Development

### Available Scripts

```bash
# Start Vite dev server (frontend only)
npm run dev:client

# Type check
npm run check

# Build for production
npm run build

# Start production server
npm start
```

### Adding New Pages

1. Create a new file in `client/src/pages/`
2. Export a React component as default
3. Add a route in `client/src/App.tsx`:
   ```tsx
   <Route path="/new-page" component={NewPage} />
   ```

### Customizing Styles

- Edit `client/src/index.css` to modify CSS variables (theme colors, fonts)
- The app uses **Tailwind v4** with CSS variables for theming
- Color palette is defined in `:root` and `.dark` selectors

### Key Data Files

- `client/src/lib/data.ts` - Contains historical data, forecasting logic, and report generation

## Deployment

The project is ready for deployment on Replit or any Node.js hosting platform.

### To Deploy on Replit

1. Push code to GitHub
2. Create new Replit from GitHub
3. Replit will auto-detect and run `npm run dev:client`

### To Deploy Locally or on a Server

1. Build: `npm run build`
2. Output is in `dist/public/`
3. Serve the static files or use the backend server

## Troubleshooting

### Port Already in Use

If port 5000 is already in use, update the Vite config:

```typescript
// vite.config.ts
server: {
  port: 3000,  // Change to any available port
}
```

### Chart Not Rendering

- Ensure Recharts is installed: `npm install recharts`
- Check browser console for errors (F12 â†’ Console)
- Clear browser cache and reload

### Styling Issues

- Run `npm run check` to verify TypeScript
- Clear `.vite` cache: `rm -rf .vite`
- Restart dev server

## Key Technologies Explained

### Tailwind CSS v4
- Uses modern CSS variables instead of PostCSS plugins
- `@theme` blocks define design tokens
- Automatic dark mode support

### Recharts
- Lightweight charting library built on React components
- Supports interactive tooltips, legends, and responsive sizing

### Shadcn/UI
- Unstyled Radix UI components with Tailwind styling
- Fully customizable and composable
- Zero runtime dependencies

### Wouter
- Minimalist client-side router (~1kb)
- No configuration needed, works out of the box

## Support & Next Steps

### To Extend the Dashboard

1. **Add Real-Time Data Integration**: Replace mock data in `lib/data.ts` with API calls
2. **Export Reports**: Add PDF export using libraries like `pdfkit` or `puppeteer`
3. **Multi-User Support**: Add authentication and role-based access
4. **Database Integration**: Connect to PostgreSQL for persistent data storage

### To Improve Forecasting

1. Integrate with actual emissions calculation APIs
2. Add machine learning model endpoints (TensorFlow.js, or call external ML service)
3. Implement confidence intervals and uncertainty quantification
4. Add Monte Carlo simulations for scenario sensitivity analysis

## License

MIT

## Contact

For questions or support, please refer to the Replit documentation at https://docs.replit.com
